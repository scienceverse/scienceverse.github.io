<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Machine-Readable Structure Demo</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>




<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">scienceverse</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Menu
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="scienceverse/index.html">scienceverse R package</a>
    </li>
    <li>
      <a href="sips2019.html">SIPS 2019 Hackathon</a>
    </li>
    <li>
      <a href="metadatalist.html">Other Meta-Data Projects</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Machine-Readable Structure Demo</h1>

</div>


<p>Here we will give an example of a basic machine-readable study description. This example uses JSON format, which could be converted into any structured format.</p>
<div id="study-framework" class="section level3">
<h3>Study framework</h3>
<p>The primary unit is a study, which contains categories where different study components will be described, such as the hypotheses, methods, data, and analyses. Here, we will focus on how we can specify the hypotheses and their links to the analyses.</p>
<pre><code>
{
    "name": "Kinship and Prosocial Behaviour",
    "authors": []
    "hypotheses": [],
    "methods": [],
    "data": [],
    "analyses": []
}
</code></pre>
</div>
<div id="hypotheses" class="section level3">
<h3>Hypotheses</h3>
<p>At the most basic level, each hypothesis needs a verbal description. A study could contain multiple hypotheses, but our example contains only one. The example below contains placeholders for describing the criteria that will support or falsify the prediction, which we will fill in later in relation to the planned analysis output.</p>
<pre><code>
    "hypotheses": [
        {
            "description": "Cues of kinship will increase prosocial behaviour. Cues of kinship will be manipulated by morphed  facial self-resemblance. Prosocial behaviour will be measured by responses in the trust game. The prediction is that the number of trusting AND/OR reciprocating moves will be greater to self-resembling faces than to non-self-resembling faces.",
            "criteria": [],
            "support": {},
            "falsify": {}
        }
    ],
</code></pre>
</div>
<div id="analyses" class="section level3">
<h3>Analyses</h3>
<p>Next, we can specify the analyses. Here we will list the information necessary to run a t-test in R (indicated by the “software” value), but it would be possible to create machine-readable specifications for analyses using any other software package. We give the name of the function to be used and list the parameters. The notation “.data[kin]$trust_self” refers to the “trust_self” column of a dataset called “kin” to be specified later. Here, we have two analyses: a t-test comparing trusting moves to self-resembling faces (“trust_self”) versus non-self-resembling faces (“trust_non”), and a t-test comparing reciprocating moves to self-resembling faces (“recip_self”) versus non-self-resembling faces (“recip_non”).</p>
<pre><code>
    "analyses": [
        {
            "id": "trust_analysis",
            "software": "R version 3.6.0 (2019-04-26)",
            "func": "t.test",
            "params": {
                "x": ".data[kin]$trust_self",
                "y": ".data[kin]$trust_non",
                "paired": true,
                "conf.level": 0.99
            },
            "results": {
                "conf.int": []
            }
        },
        {
            "id": "recip_analysis",
            "software": "R version 3.6.0 (2019-04-26)",
            "func": "t.test",
            "params": {
                "x": ".data[kin]$recip_self",
                "y": ".data[kin]$recip_non",
                "paired": true,
                "conf.level": 0.99
            },
            "results": {
                "conf.int": []
            }
        }
    ]
</code></pre>
</div>
<div id="criteria-for-support-or-falsification" class="section level3">
<h3>Criteria for support or falsification</h3>
<p>The criteria for support and falsification now can be specified in relation to the planned analyses. Each criterion is specified with an ID, used to reference the criterion in the evaluation rules for support and falsification. We have two criteria that we need to check to determine support or falsification for each analysis: (1) Is the lower-bound of the 99% CI larger than 0? and (2) Is the upper bound of the 99% CI larger than 0.2 (our smallest effect size of interest)? After data collection and running analyses, each criterion’s “conclusion” value is changed from NULL to TRUE or FALSE.</p>
<pre><code>
            "criteria": [
                {
                    "id": "trust_lowbound", 
                    "analysis_id": "trust_analysis",
                    "result": "conf.int[1]", 
                    "operator": ">", 
                    "comparator": 0,
                    "conclusion": NULL
                },
                {
                    "id": "trust_highbound", 
                    "analysis_id": "trust_analysis",
                    "result": "conf.int[2]", 
                    "operator": ">", 
                    "comparator": 0.2,
                    "conclusion": NULL
                },
                {
                    "id": "recip_lowbound", 
                    "analysis_id": "recip_analysis",
                    "result": "conf.int[1]", 
                    "operator": ">", 
                    "comparator": 0,
                    "conclusion": NULL
                },
                {
                    "id": "recip_highbound", 
                    "analysis_id": "recip_analysis",
                    "result": "conf.int[2]", 
                    "operator": ">", 
                    "comparator": 0.2,
                    "conclusion": NULL
                }
            ]
</code></pre>
</div>
<div id="evaluation-of-support-or-falsification" class="section level3">
<h3>Evaluation of support or falsification</h3>
<p>The values of “support” and “falsify” contain a verbal description of the criteria and an evaluation rule for determining what patterns of criteria support the hypothesis. In our example, the hypothesis is supported if both of the criteria are true for either the trust or reciprocation moves (“(trust_lowbound &amp; trust_highbound) | (recip_lowbound &amp; recip_highbound)”) and the hypothesis is falsified if the second criterion is false for both the trust and reciprocation moves (“!trust_highbound &amp; !recip_highbound”). All other patterns of results are deemed inconclusive.</p>
<pre><code>
            "support": {
                "description": "The hypothesis is supported if the 99% CI lower bound is greater than 0 and the 99% CI upper bound is greater than 0.2 (the SESOI) for either the trust or reciprocation moves.",
                "evaluation": "(trust_lowbound & trust_highbound) | (recip_lowbound & recip_highbound)"
            },
            "falsify": {
                "description": "The hypothesis is falsified if the 99% CI upper bound is smaller than 0.2 (the SESOI) for both trust and reciprocation.",
                "evaluation": "!trust_highbound & !recip_highbound"
            }
</code></pre>
</div>
<div id="data" class="section level3">
<h3>Data</h3>
<p>We can describe datasets using an existing codebook format from the <a href="https://psych-ds.github.io/">PsychDS</a> project by setting the “@context”, “@type” and “schemaVersion” values appropriately. Each dataset is given an ID for referencing in analysis scripts.</p>
<pre></code>
    "data": [
        {
            "id": "kin",
            "@context": "https://schema.org/",
            "@type": "Dataset",
            "schemaVersion": "Psych-DS 0.1.0",
            "variableMeasured": [
                {
                    "type": "PropertyValue",
                    "unitText": "id",
                    "name": "id",
                    "description": "Subject ID"
                },
                {
                    "type": "PropertyValue",
                    "unitText": "trust_self",
                    "name": "trust_self",
                    "minValue": 0,
                    "maxValue": 3,
                    "description": "Number of trusting (P1) moves toward self-resembling faces"
                },
                {
                    "type": "PropertyValue",
                    "unitText": "trust_non",
                    "name": "trust_non",
                    "minValue": 0,
                    "maxValue": 3,
                    "description": "Number of trusting (P1) moves toward non-self-resembling faces"
                },
                {
                    "type": "PropertyValue",
                    "unitText": "recip_self",
                    "name": "recip_self",
                    "minValue": 0,
                    "maxValue": 3,
                    "description": "Number of reciprocating (P2) moves toward self-resembling faces"
                },
                {
                    "type": "PropertyValue",
                    "unitText": "recip_non",
                    "name": "recip_non",
                    "minValue": 0,
                    "maxValue": 3,
                    "description": "Number of reciprocating (P2) moves toward self-resembling faces"
                }
            ]
        }
    ]
</code></pre>
</div>
<div id="full-json" class="section level3">
<h3>Full JSON</h3>
<pre><code>
{
    "name": "Kinship and Prosocial Behaviour",
    "authors": []
    "hypotheses": [
        {
            "description": "Cues of kinship will increase prosocial behaviour. Cues of kinship will be manipulated by morphed  facial self-resemblance. Prosocial behaviour will be measured by responses in the trust game. The prediction is that the number of trusting AND/OR reciprocating moves will be greater to self-resembling faces than to non-self-resembling faces.",
            "criteria": [
                {
                    "id": "trust_lowbound", 
                    "analysis_id": "trust_analysis",
                    "result": "conf.int[1]", 
                    "operator": ">", 
                    "comparator": 0,
                    "conclusion": NULL
                },
                {
                    "id": "trust_highbound", 
                    "analysis_id": "trust_analysis",
                    "result": "conf.int[2]", 
                    "operator": ">", 
                    "comparator": 0.2,
                    "conclusion": NULL
                },
                {
                    "id": "recip_lowbound", 
                    "analysis_id": "recip_analysis",
                    "result": "conf.int[1]", 
                    "operator": ">", 
                    "comparator": 0,
                    "conclusion": NULL
                },
                {
                    "id": "recip_highbound", 
                    "analysis_id": "recip_analysis",
                    "result": "conf.int[2]", 
                    "operator": ">", 
                    "comparator": 0.2,
                    "conclusion": NULL
                }
            ],
            "support": {
                "description": "The hypothesis is supported if the 99% CI lower bound is greater than 0 and the 99% CI upper bound is greater than 0.2 (the SESOI) for either the trust or reciprocation moves.",
                "evaluation": "(trust_lowbound & trust_highbound) | (recip_lowbound & recip_highbound)"
            },
            "falsify": {
                "description": "The hypothesis is falsified if the 99% CI upper bound is smaller than 0.2 (the SESOI) for both trust and reciprocation.",
                "evaluation": "!trust_highbound & !recip_highbound"
            }
        }
    ],
    "methods": [],
    "data": [],
    "analyses": [
        {
            "id": "trust_analysis",
            "software": "R version 3.6.0 (2019-04-26)",
            "func": "t.test",
            "params": {
                "x": ".data[kin]$trust_self",
                "y": ".data[kin]$trust_non",
                "paired": true,
                "conf.level": 0.99
            },
            "results": {
                "conf.int": []
            }
        },
        {
            "id": "recip_analysis",
            "software": "R version 3.6.0 (2019-04-26)",
            "func": "t.test",
            "params": {
                "x": ".data[kin]$recip_self",
                "y": ".data[kin]$recip_non",
                "paired": true,
                "conf.level": 0.99
            },
            "results": {
                "conf.int": []
            }
        }
    ]
}
</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
